<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="text-center mb-3">
                <img src="./img.png" alt="Immagine" class="img-fluid">
            </div>

            <form id="search-form" method="GET" action="/listaFilm"> <!-- Inizialmente impostato su "/listaFilm" -->
                <div class="row-centered">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Inserisci titolo" aria-label="Cerca"
                               aria-describedby="search-button" id="search-input">
                        <button class="btn btn-primary" type="submit" id="search-button">Cerca</button>
                    </div>
                </div>
                <div class="row-centered mb-3">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" value="film" checked>
                    <label class="form-check-label" for="flexRadioDefault2">
                        Film
                    </label>
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" value="serie">
                    <label class="form-check-label" for="flexRadioDefault1">
                        Serie TV
                    </label>
                </div>
            </form>

            <script>
                const searchForm = document.getElementById('search-form');
                const searchInput = document.getElementById('search-input');
                const radioFilm = document.getElementById('flexRadioDefault2');
                const radioSerie = document.getElementById('flexRadioDefault1');

                searchForm.addEventListener('submit', function (event) {
                    event.preventDefault(); // Previeni il comportamento predefinito del modulo

                    if (radioFilm.checked) {
                        window.location.href = '/listaFilm' + '?search=' + encodeURIComponent(searchInput.value);
                    } else if (radioSerie.checked) {
                        window.location.href = '/listaSerie' + '?search=' + encodeURIComponent(searchInput.value);
                    }
                });
            </script>


            <div class="d-grid gap-2 ">
                <a href="/listaFilm">
                    <button type="button" class="btn btn-primary">Visualizza film</button>
                </a>
                <a href="/listaSerie">
                    <button type="button" class="btn btn-primary">Visualizza Serie tv</button>
                </a>
            </div>

        </div>
    </div>
</div>

</body>
</html>
